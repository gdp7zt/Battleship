(()=>{var e={836:e=>{class t{constructor(e){this.length=e,this.hitLocation=[],this.sunk=!1}hit(e){this.hitLocation.push(e)}isSunk(){return this.hitLocation.length===this.length&&(this.sunk=!0,!0)}}function r(e,t){for(let r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}e.exports={Ship:t,Gameboard:class{constructor(e){this.name=e,this.board=[],this.fillBoard(),this.misses=[],this.allSunk=!1}fillBoard(){for(let e=0;e<10;e++)this.board.push([0,0,0,0,0,0,0,0,0,0])}placeShip(e,r){let o=new t(e);return r.forEach((e=>{this.board[e[0]][e[1]]=[1,o]})),o}receiveAttack(e){if(0===this.board[e[0]][e[1]])return this.misses.push(e),"miss";if(1===this.board[e[0]][e[1]][0]){let t=this.board[e[0]][e[1]][1];return this.board[e[0]][e[1]][0]=2,t.hit(e),t}}shipsSunk(){for(let e=0;e<10;e++)for(let t=0;t<10;t++)if(1===this.board[e][t][0]&&!this.board[e][t][1].isSunk())return!1;return this.allSunk=!0,!0}},Player:class{constructor(e){this.name=e}attack(e,t){if(!this.offBoard(e))return t.receiveAttack(e)}randomAttack(e){let t=[];do{t=this.getLocation()}while(r(e.misses,t)||2===e.board[t[0]][t[1]][0]);!function(e,t){let r=t.receiveAttack(e),o=document.querySelectorAll(`[data-x="${e[0]}"][data-y="${e[1]}"]`);o=o[0],o.style.backgroundColor="miss"===r?"red":"black"}(t,e)}getLocation(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}offBoard(e){return e[0]>9||e[0]<0||e[1]>9||e[1]<0}randomShip(e){}}}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}(()=>{const{Ship:e,Gameboard:t,Player:o}=r(836);function n(e,t,r){if("computer"===e.name){const e=document.createElement("div");for(let t=0;t<10;t++){const r=document.createElement("div");for(let e=0;e<10;e++){const o=document.createElement("div");o.setAttribute("data-x",t),o.setAttribute("data-y",e),r.appendChild(o)}e.appendChild(r)}document.querySelector("body").appendChild(e)}else{const o=document.createElement("div");for(let n=0;n<10;n++){const i=document.createElement("div");for(let o=0;o<10;o++){const c=document.createElement("div");c.setAttribute("data-x",n),c.setAttribute("data-y",o),c.addEventListener("click",(()=>{a([n,o],e),t.randomAttack(r),(e.shipsSunk()||r.shipsSunk())&&document.querySelectorAll("body > div > div > div").forEach((e=>{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e);const r=document.querySelector("body"),o=document.createElement("div");o.innerText="You win!",r.appendChild(o)}))}),{once:!0}),i.appendChild(c)}o.appendChild(i)}document.querySelector("body").appendChild(o)}}function a(e,t){let r=t.receiveAttack(e),o=document.querySelectorAll(`[data-x="${e[0]}"][data-y="${e[1]}"]`);o=o[1],o.style.backgroundColor="miss"===r?"red":"black"}!function(){new o("user");let e=new o("computer"),r=new t("user"),a=new t("computer"),i=document.querySelector("#shipGetter");i.classList.remove("hidden"),document.querySelector("#shipButton").addEventListener("click",(()=>{const t=document.querySelector("#ship1"),o=document.querySelector("#ship2"),c=document.querySelector("#ship3"),l=document.querySelector("#ship4"),s=document.querySelector("#ship5");11!==t.value.length||17!==o.value.length||17!==c.value.length||23!==l.value.length||29!==s.value.length?document.querySelector("#shipError").classList.remove("hidden"):(r.placeShip(2,JSON.parse("["+t.value+"]")),r.placeShip(3,JSON.parse("["+o.value+"]")),r.placeShip(3,JSON.parse("["+c.value+"]")),r.placeShip(4,JSON.parse("["+l.value+"]")),r.placeShip(5,JSON.parse("["+s.value+"]")),a.placeShip(2,[[1,2],[1,3]]),a.placeShip(3,[[4,2],[4,3],[4,4]]),a.placeShip(3,[[6,7],[6,8],[6,9]]),a.placeShip(4,[[8,2],[8,3],[8,4],[8,5]]),a.placeShip(5,[[2,5],[3,5],[4,5],[5,5],[6,5]]),console.log(a.board),console.log(r.board),i.classList.add("hidden"),n(a),n(r,e,a))}))}()})()})();